/*
  Project : Imagenes LCD
  Version : 1.0
  Date    : 12/04/2021
  Author  : Carlos Andres Betancourt
  Company : CaliBeta
  Comments:
  Chip type               : ATmega328P-AU
  Program type            : Application
  AVR Core Clock frequency: 16.000000 MHz
  Memory model            : Small
  External RAM size       : 0
  Data Stack size         : 512
  commit:
  ------------------------------------------------------------
  Conexiones electricas

  //----------------------------------------------------------*/

//Incluimos las librerias necesarias
#include <Arduino.h>
#include <U8g2lib.h>
#include "Config.h"
//----------------------------------------------------------

//Declaramos los objetos de las liberias
U8G2_ST7920_128X64_F_SW_SPI u8g2(U8G2_R0, SCK, DATA, CS, U8X8_PIN_NONE);
//----------------------------------------------------------------------

//Declaramos las variables globales necesarias
//Imagen logo del canal CaliBeta
#define CaliBeta_Logo_width 73
#define CaliBeta_Logo_height 64
static const unsigned char CaliBeta_Logo_bits[] U8X8_PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80,
  0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x0f, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x7f, 0x00, 0x02, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xff, 0x03, 0x02, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0xc0, 0xff, 0x07, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0xe0, 0xff, 0x07, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe0,
  0xff, 0x03, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0xff, 0x83,
  0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0xff, 0x83, 0x03, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0xff, 0x81, 0x03, 0x07, 0x00, 0x00,
  0x00, 0x00, 0x00, 0xf0, 0xff, 0xc1, 0x03, 0x3f, 0x00, 0x00, 0x00, 0x00,
  0x00, 0xf8, 0xff, 0xc1, 0x03, 0xff, 0x01, 0x00, 0x00, 0x00, 0x00, 0xf8,
  0xff, 0xc0, 0x03, 0xff, 0x0f, 0x00, 0x00, 0x00, 0x00, 0xf8, 0xff, 0xe0,
  0x03, 0xff, 0x7f, 0x00, 0x00, 0x00, 0x00, 0xfc, 0xff, 0xe0, 0x03, 0xff,
  0xff, 0x03, 0x00, 0x00, 0x00, 0xfc, 0x7f, 0xe0, 0x03, 0xff, 0xff, 0x0f,
  0x00, 0x00, 0x00, 0xfe, 0x7f, 0xf0, 0x03, 0xff, 0xff, 0x7f, 0x00, 0x00,
  0x00, 0xfe, 0x3f, 0xf0, 0x03, 0xff, 0xff, 0xff, 0x03, 0x00, 0x00, 0xfe,
  0x3f, 0xf0, 0x03, 0xff, 0xff, 0xff, 0x1f, 0x00, 0x00, 0xff, 0x3f, 0xf8,
  0x03, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0xff, 0x1f, 0xf8, 0x03, 0xff,
  0xff, 0xff, 0xff, 0x00, 0x00, 0xff, 0x1f, 0xf8, 0x03, 0xff, 0xff, 0xff,
  0xff, 0x00, 0x80, 0xff, 0x1f, 0xfc, 0x03, 0xfc, 0xff, 0xff, 0xff, 0x00,
  0x80, 0xff, 0x0f, 0xfc, 0x03, 0xe0, 0xff, 0xff, 0x7f, 0x00, 0x80, 0xff,
  0x0f, 0xfe, 0x03, 0x00, 0xff, 0xff, 0x7f, 0x00, 0xc0, 0xff, 0x0f, 0xfe,
  0x07, 0x00, 0xf8, 0xff, 0x7f, 0x00, 0xc0, 0xff, 0x07, 0xfe, 0x3f, 0x00,
  0xc0, 0xff, 0x3f, 0x00, 0xc0, 0xff, 0x07, 0xff, 0xff, 0x01, 0x00, 0xff,
  0x3f, 0x00, 0xe0, 0xff, 0x07, 0xff, 0xff, 0x07, 0x00, 0xff, 0x3f, 0x00,
  0xe0, 0xff, 0x03, 0xff, 0xff, 0x3f, 0x00, 0xff, 0x1f, 0x00, 0xe0, 0xff,
  0x83, 0xff, 0xff, 0xff, 0x01, 0xff, 0x1f, 0x00, 0xf0, 0xff, 0x03, 0xff,
  0xff, 0xff, 0x81, 0xff, 0x1f, 0x00, 0xf0, 0xff, 0x01, 0xf8, 0xff, 0xff,
  0x80, 0xff, 0x0f, 0x00, 0xf0, 0xff, 0x01, 0xe0, 0xff, 0xff, 0x80, 0xff,
  0x0f, 0x00, 0xf8, 0xff, 0x01, 0x00, 0xff, 0xff, 0xc0, 0xff, 0x0f, 0x00,
  0xf8, 0xff, 0x03, 0x00, 0xf8, 0xff, 0xc0, 0xff, 0x07, 0x00, 0xf8, 0xff,
  0x0f, 0x00, 0xe0, 0x7f, 0xc0, 0xff, 0x07, 0x00, 0xfc, 0xff, 0x7f, 0x00,
  0xc0, 0x7f, 0xe0, 0xff, 0x03, 0x00, 0xfc, 0xff, 0xff, 0x03, 0xc0, 0x7f,
  0xe0, 0xff, 0x03, 0x00, 0xfc, 0xff, 0xff, 0x1f, 0xc0, 0x3f, 0xe0, 0xff,
  0x03, 0x00, 0xfe, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xf0, 0xff, 0x01, 0x00,
  0xfe, 0xff, 0xff, 0xff, 0xc1, 0x3f, 0xf0, 0xff, 0x01, 0x00, 0xff, 0xff,
  0xff, 0xff, 0xc1, 0x1f, 0xf8, 0xff, 0x01, 0x00, 0xfc, 0xff, 0xff, 0xff,
  0xc1, 0x1f, 0xf8, 0xff, 0x00, 0x00, 0xe0, 0xff, 0xff, 0xff, 0xc1, 0x1f,
  0xf8, 0xff, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xc1, 0x0f, 0xfc, 0xff,
  0x00, 0x00, 0x00, 0xf8, 0xff, 0xff, 0xc1, 0x0f, 0xfc, 0x7f, 0x00, 0x00,
  0x00, 0xc0, 0xff, 0xff, 0x81, 0x0f, 0xfc, 0x7f, 0x00, 0x00, 0x00, 0x00,
  0xff, 0xff, 0x81, 0x07, 0xfe, 0x7f, 0x00, 0x00, 0x00, 0x00, 0xf8, 0xff,
  0x81, 0x07, 0xfe, 0x3f, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xff, 0x81, 0x07,
  0xfe, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfe, 0x81, 0x03, 0xff, 0x3f,
  0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0x81, 0x03, 0xff, 0x1f, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x80, 0x81, 0x03, 0xff, 0x1f, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x80, 0x81, 0xff, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x81, 0xff, 0x0f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x81,
  0xff, 0x0f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xff, 0x07,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xff, 0x07, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0xfe, 0x07, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0xf0, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x80, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x02, 0x00, 0x00
};

//Logo de YouTube
#define YouTube_width 69
#define YouTube_height 50
static const unsigned char YouTube_bits[] U8X8_PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe8,
  0xff, 0xff, 0x7f, 0x05, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0x1f, 0x00, 0xc0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x00,
  0xf0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x01, 0xf0, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0x01, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0x03, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x07,
  0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x07, 0xfc, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0x07, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0x07, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f,
  0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0xc7, 0xff, 0xff, 0xff, 0xff, 0x0f,
  0xfe, 0xff, 0xff, 0x87, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff,
  0x07, 0xfe, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0x07, 0xf8, 0xff,
  0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0x07, 0xe0, 0xff, 0xff, 0xff, 0x0f,
  0xfe, 0xff, 0xff, 0x07, 0xc0, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff,
  0x07, 0x00, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0x07, 0x00, 0xfc,
  0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0x07, 0x00, 0xf8, 0xff, 0xff, 0x0f,
  0xfe, 0xff, 0xff, 0x07, 0x00, 0xe0, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff,
  0x07, 0x00, 0xe0, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0x07, 0x00, 0xf8,
  0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0x07, 0x00, 0xfc, 0xff, 0xff, 0x0f,
  0xfe, 0xff, 0xff, 0x07, 0x00, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff,
  0x07, 0xc0, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0x07, 0xe0, 0xff,
  0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0x07, 0xf8, 0xff, 0xff, 0xff, 0x0f,
  0xfe, 0xff, 0xff, 0x07, 0xfe, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff,
  0x87, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0xc7, 0xff, 0xff,
  0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f,
  0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0x07, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x07,
  0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x07, 0xfc, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0x07, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0x07, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x03,
  0xf0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x01, 0xf0, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0x01, 0xc0, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0x7f, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x1f, 0x00,
  0x00, 0x00, 0xea, 0xff, 0xff, 0xff, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

uint8_t dx = 1;
int8_t signo = 1; //controla la direccion de la animacion

//Variables de control de flujo
bool logo = false; //controla cuando dibujar le logo de YouTube
//----------------------------------------------------------------------

//Configuracion
void setup() {
  //Serial.begin(115200);
  u8g2.begin();
  u8g2.setFont(u8g2_font_6x13_tr);
  u8g2.setFontMode(1);
  u8g2.setDrawColor(1);

  pinMode(BL, OUTPUT);

  //Configuramos el estado inicial de los pines
  analogWrite(BL, BRILLO);

  mensajeInicio(XPOS, YPOS);
  delay(1500);
}
//----------------------------------------------------------------------

//Funcion Principal
void loop() {
  animacionYoutube(XPOS, YPOS);
  //delay(1);
}
//----------------------------------------------------------------------
